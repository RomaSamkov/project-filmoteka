{"version":3,"sources":["js/refs.js","js/api.js","js/onSearchByKeyWord.js","index.js"],"names":["refs","formSearch","document","querySelector","galleryContainer","API_KEY","BASE_URL","API_URL","IMG_URL","SEARCH_URL","ApiServise","constructor","userSearch","page","getTrendingFilm","fetch","then","trendingFilm","ok","json","onSearchFilm","incrementPage","response","setPage","numberPage","resetPage","searchFilm","newSearch","userFilms","onSearch","ev","preventDefault","innerHTML","target","elements","searchQuery","value","trim","console","log","catch","error","addEventListener"],"mappings":";;;AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,MAAMA,EAAO,CAClBC,WAAYC,SAASC,cAAc,iBACnCC,iBAAkBF,SAASC,cAAc,aAFpC,QAAA,KAAA;;ACMyB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EANhC,MAAME,EAAU,mCACVC,EAAW,+BACXC,KAAaD,oDAA2DD,IACxEG,EAAU,kCACVC,uDAAkEJ,IAEzD,MAAMK,EACnBC,cACOC,KAAAA,WAAa,GACbC,KAAAA,KAAO,EAEdC,kBACSC,OAAAA,SAASR,UAAgB,KAAKM,QAAQG,KAAKC,IAC5C,GAACA,EAAaC,GAGXD,OAAAA,EAAaE,SAGxBC,eAESL,OADFM,KAAAA,gBACEN,SAASN,WAAoB,KAAKG,mBAAmB,KAAKC,QAAQG,KAAKM,IACxE,GAACA,EAASJ,GAGPI,OAAAA,EAASH,SAGpBE,gBACOR,KAAAA,MAAQ,EAEfU,QAAQC,GACDX,KAAAA,KAAOW,EAEdC,YACOZ,KAAAA,KAAO,EAEVa,iBACK,OAAA,KAAKd,WAEVc,eAAWC,GACRf,KAAAA,WAAae,GAnCU,QAAA,QAAA;;ACehC,aArBA,IAAA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,UAoBA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAlBA,MAAMC,EAAY,IAAIlB,EAAJ,QAEZmB,EAAWC,IAIX,GAHJA,EAAGC,iBACE3B,EAAAA,KAAAA,iBAAiB4B,UAAY,GAClCJ,EAAUF,WAAaI,EAAGG,OAAOC,SAASC,YAAYC,MAAMC,QACvDT,EAAUF,WAGb,OAFAE,EAAUH,iBACVG,EAAUd,kBAAkBE,KAAKM,GAAYgB,QAAQC,IAAI,oBAG3DX,EAAUH,YACVG,EACGR,eACAJ,KAAKM,GAAYgB,QAAQC,IAAI,oBAC7BC,MAAMC,GAASH,QAAQC,IAAI,WAGhCvC,EAAKC,KAAAA,WAAWyC,iBAAiB,SAAUb;;ACjB3C,aAJA,QAAA,oBACA,QAAA,gBACA,QAAA,eACA,QAAA,6BACAS,QAAQC,IAAI","file":"src.8cf42deb.js","sourceRoot":"../src","sourcesContent":["export const refs = {\n  formSearch: document.querySelector('.header__form'),\n  galleryContainer: document.querySelector('.gallery'),\n};\n","const API_KEY = 'f534638cb3304b9759e126ecf8f1bc28';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_URL = `${BASE_URL}/discover/movie?sort_by=popularity.desc&api_key=${API_KEY}`;\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\nconst SEARCH_URL = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}`;\n\nexport default class ApiServise {\n  constructor() {\n    this.userSearch = '';\n    this.page = 1;\n  }\n  getTrendingFilm() {\n    return fetch(`${API_URL}&page=${this.page}`).then(trendingFilm => {\n      if (!trendingFilm.ok) {\n        return;\n      }\n      return trendingFilm.json();\n    });\n  }\n  onSearchFilm() {\n    this.incrementPage();\n    return fetch(`${SEARCH_URL}&query=${this.userSearch}&page=${this.page}`).then(response => {\n      if (!response.ok) {\n        return;\n      }\n      return response.json();\n    });\n  }\n  incrementPage() {\n    this.page += 1;\n  }\n  setPage(numberPage) {\n    this.page = numberPage;\n  }\n  resetPage() {\n    this.page = 0;\n  }\n  get searchFilm() {\n    return this.userSearch;\n  }\n  set searchFilm(newSearch) {\n    this.userSearch = newSearch;\n  }\n}\n","import { refs } from './refs';\nimport ApiServise from './api';\n\nconst userFilms = new ApiServise();\n\nconst onSearch = ev => {\n  ev.preventDefault();\n  refs.galleryContainer.innerHTML = '';\n  userFilms.searchFilm = ev.target.elements.searchQuery.value.trim();\n  if (!userFilms.searchFilm) {\n    userFilms.resetPage();\n    userFilms.getTrendingFilm().then(response => console.log('рисуем разметку'));\n    return;\n  }\n  userFilms.resetPage();\n  userFilms\n    .onSearchFilm()\n    .then(response => console.log('Рисуем разметку'))\n    .catch(error => console.log('Error'));\n};\n\nrefs.formSearch.addEventListener('submit', onSearch);\n","import './sass/main.scss';\nimport './js/refs.js';\nimport './js/api.js';\nimport './js/onSearchByKeyWord.js';\nconsole.log('Hello World');\n"]}